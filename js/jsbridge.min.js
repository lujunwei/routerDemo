!function(a){function b(){var a=!1;return navigator.userAgent.match(/(iPad|iPhone)/)?a=!0:navigator.userAgent.match(/(Android)/)&&(a=!1),a}function c(a,b){a=a.replace(/\s+/g,"");var c=new RegExp(b+"=([^;]+);"),d=a.match(c);return d?d[1]:""}function d(a){window.WebViewJavascriptBridge?a(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){a(WebViewJavascriptBridge)},!1)}function e(b,c){c&&(c=JSON.parse(c)),a.WebViewJavascriptBridge.callHandler(b,c,function(a){})}var f=function(){};f.prototype={constructor:f,getVersion:function(){navigator.userAgent},toAppLogin:function(){try{b()?ToAppIosLogin():e("ToAppLogin",null)}catch(a){console.info("不支持jsbridge")}},toAppRegister:function(){try{b()?ToAppIosRegister():e("ToAppRegister",null)}catch(a){console.info("不支持jsbridge")}},toAppMainPage:function(){try{b()?ToAppIosMainPage():e("ColseWeb",null)}catch(a){console.info("不支持jsbridge")}},toAppInvestList:function(){try{b()?ToAppIosInvest():e("ToAppInvestList",null)}catch(a){console.info("不支持jsbridge")}},toAppInvestDetails:function(a,c,d,f,g){try{if(b())ToAppIosProjectDetail(a,c,d,f,g);else{var h={Id:a,TypeId:c,SubTypeId:d,ProfitTypeId:f,XmbSubType:g};h=JSON.stringify(h),e("InvestProjectDetails",h)}}catch(i){console.info("不支持jsbridge")}},toAppLoan:function(){try{b()?ToAppIosBorrow():e("ToAppLoan",null)}catch(a){console.info("不支持jsbridge")}},toAppMyInvest:function(){try{b()?ToAppIosMyInvest():e("InvestListActivity",null)}catch(a){console.info("不支持jsbridge")}},toAppMyInvestDetail:function(a,c,d,f,g,h){try{if(b())ToAppIosInvestDetail(a,c,d,f,g,h);else{var i={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:f,IsWePlanX:g};i=JSON.stringify(i),e("MyInvestDetail",i)}}catch(j){console.info("不支持jsbridge")}},toAppTBX:function(){try{b()?ToAppIosTreasurChest():e("ToAppTBX",null)}catch(a){console.info("不支持jsbridge")}},toAppCashRedPacket:function(){try{b()?ToAppIosCashBonus():e("ToAppCashRedPacket",null)}catch(a){console.info("不支持jsbridge")}},toAppOrdinaryRedPacket:function(){try{b()?ToAppIosInvestBonus():e("ToAppOrdinaryRedPacket",null)}catch(a){console.info("不支持jsbridge")}},toAppKasiRedPacket:function(){try{b()?ToAppIosAddRateCoupon():e("ToAppKasiRedPacket",null)}catch(a){console.info("不支持jsbridge")}},toAppWithdrawalRoll:function(){try{b()?ToAppIosWithdrawalCoupon():e("ToAppWithdrawalRoll",null)}catch(a){console.info("不支持jsbridge")}},toAppRebateRedPacket:function(){try{b()?ToAppIosDeductionCoupon():e("ToAppRebateRedPacket",null)}catch(a){console.info("不支持jsbridge")}},toAppSingInRoll:function(){try{b()?ToAppIosAdCard():e("ToAppSingInRoll",null)}catch(a){console.info("不支持jsbridge")}},toAppPresent:function(){try{b()?ToAppIosBoutiqueGift():e("ToAppPresent",null)}catch(a){console.info("不支持jsbridge")}},toAppRecharge:function(){try{b()?ToAppIosRecharge():e("ToAppRecharge",null)}catch(a){console.info("不支持jsbridge")}},toAppSecurityCenter:function(){try{b()?ToAppIosSaftCenter():e("ToAppSecurityCenter",null)}catch(a){console.info("不支持jsbridge")}},toAppMobileVerify:function(){try{b()?ToAppIosPhoneValidtion():e("ToAppMobileVerify",null)}catch(a){console.info("不支持jsbridge")}},toAppIdentityVerify:function(){try{b()?ToAppIosAuthenticationCode():e("ToAppIdentityVerify",null)}catch(a){console.info("不支持jsbridge")}},toAppPersonalCenter:function(){try{b()?ToAppIosMyTreasure():e("ToAppPersonalCenter",null)}catch(a){console.info("不支持jsbridge")}},toAppInviteFriend:function(){try{b()?ToAppIosInviteFriend():e("ToAppInviteFriend",null)}catch(a){console.info("不支持jsbridge")}},toActivityAppInviteFriend:function(){try{b()?ToAppIosActivityShare():e("ToActivityAppInviteFriend",null)}catch(a){console.info("不支持jsbridge")}},toAppWePlan:function(){try{b()?ToAppIosWePlan():e("ToAppWEInvestList",null)}catch(a){console.info("不支持jsbridge")}},toAppWePlanDetail:function(a){try{if(b())ToAppIosWePlanProjectDetail(a);else{var c={ProductId:a};c=JSON.stringify(c),e("WXInvestDetail",c)}}catch(d){console.info("不支持jsbridge")}},appPlayMusic:function(a){try{if(b())ToAppIosPlayMusic(a);else{var c={url:a};c=JSON.stringify(c),e("WebViewOnPlayMusic",c)}}catch(d){console.info("不支持jsbridge")}},appStopMusic:function(){try{b()?ToAppIosStopMusic():e("WebViewOnPauseMusic",null)}catch(a){console.info("不支持jsbridge")}},isNewVersion:function(){var a=navigator.userAgent,b=a.match(/\[([^\[\]]*)\]/);if(b&&b[1]){var c=b[1].split("_"),d=c[0]+c[1];return!(!(c&&c[c.length-1]>="4.3.4")||"tuandaiappandroid"!=d&&"tuandaiappIOS"!=d)}return!1},appLogin:function(a,b,c,d){$.ajax({url:a,data:{appActivityToken:b},dataType:"json",type:"post",success:function(a){c&&"function"==typeof c&&(arguments[0]=a,c.apply(this,arguments))},error:function(a){d&&"function"==typeof d&&(arguments[0]=a,d.apply(this,arguments))}})},appLifeHook:function(e,f,g,h,i){b()?(window.ToAppIosPostLoginToken=function(a){if(f&&"function"==typeof f){if(JSON.parse(a)&&JSON.parse(a).ReturnCode)arguments[0]=a;else{var b={Token:c(a,"Token"),ReturnCode:c(a,"ReturnCode"),ReturnMessage:c(a,"ReturnMessage"),Data:{LoginToken:c(a,"LoginToken")}};arguments[0]=JSON.stringify(b)}f.apply(this,arguments)}},a.ToAppLifeCycle=function(a){1==a?g&&"function"==typeof g&&g.apply(this,arguments):2==a&&h&&"function"==typeof h&&h.apply(this,arguments)}):d(function(a){a.init(function(a,b){console.log("JS got a message",a);var c={"Javascript Responds":"测试中文!"};console.log("JS responding with",c),e&&(arguments[0]=a,e.apply(this,arguments)),b(c)}),a.registerHandler("LoginToken",function(a,b){var c="Javascript Says Right back aka!";f&&"function"==typeof f&&(arguments[0]=a,f.apply(this,arguments)),b(c)}),a.registerHandler("WebonResume",function(a,b){var c="Javascript Says Right back aka!";g&&"function"==typeof g&&(arguments[0]=a,g.apply(this,arguments)),b(c)}),a.registerHandler("WebonPause",function(a,b){var c="Javascript Says Right back aka!";h&&"function"==typeof h&&(arguments[0]=a,h.apply(this,arguments)),b(c)}),a.registerHandler("WebonDestroy",function(a,b){var c="Javascript Says Right back aka!";i&&"function"==typeof i&&(arguments[0]=a,i.apply(this,arguments)),b(c)})})}};var g=new f;a.Jsbridge=g}(window);